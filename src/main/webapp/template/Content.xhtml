<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>
<h:head>
    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>

        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
        <h:outputStylesheet name="primeflex/3.3.1/primeflex.css" library="webjars"/>
        <h:outputStylesheet name="css/App.css" />
    </f:facet>
    
</h:head>
<h:body>
    <div class="row">
        <div class="card">
            <h3 class="card-title">ACC NO: #{loginForm.getAccountByUserId(loggedInUser.getId()).getAccountNumber()}</h3>
            <h3 class="card-title">ACC Bal : #{transaction.getBalance()}</h3>
            <!-- <h:outputText value="Shs. #{sessionScope.loggedInUser.account.accountBalance}" /> -->
        </div>
        <div class="card">
            <h3 class="card-title">RECENT DEPOSIT</h3>
            <p class="card-content">Shs. #{loginForm.getMostRecentDepositAmountByAccountNumber()}</p>
        </div>
        <div class="card">
            <h3 class="card-title">RECENT WITHDRAW</h3>
            
            <p class="card-content">Shs. #{loginForm.getMostRecentWithdrawAmountByAccountNumber()}</p>
        </div>
        <div class="card">
            <h3 class="card-title">TOTAL TRANSACTIONS</h3>
            <p class="card-content">#{loginForm.getTotalTransactionsByAccountNumber()}</p>
        </div>
    </div>

    <div class="datatable">
        <h3>RECENT TRANSACTIONS</h3>
        
        <h:dataTable value="#{loginForm.getTransactionsForLoggedInUser()}" var="transact">
    <h:column>
        <f:facet name="header">TRANSACTION ID</f:facet>
        <h:outputText value="#{transact.transactionId}" />
    </h:column>
    <h:column>
        <f:facet name="header">AMOUNT</f:facet>
        <h:outputText value="#{transact.amount}" />
    </h:column>
    <h:column>
        <f:facet name="header">TRANSACTION TYPE</f:facet>
        <h:outputText value="#{transact.transactionType}" />
    </h:column>
    <h:column>
        <f:facet name="header">DATE</f:facet>
        <h:outputText value="#{transact.date}" />
    </h:column>
</h:dataTable>

    </div>
</h:body>
</html>
